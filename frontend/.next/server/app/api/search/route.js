(()=>{var e={};e.id=202,e.ids=[202],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},48779:(e,t,s)=>{"use strict";s.r(t),s.d(t,{patchFetch:()=>b,routeModule:()=>l,serverHooks:()=>p,workAsyncStorage:()=>f,workUnitAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>u});var a=s(42706),n=s(28203),i=s(45994),o=s(64871),c=s(39187);async function u(e){let t=new URL(e.url).searchParams,s=t.get("category");switch(t.get("q"),s){case"movies":try{let{data:e}=await o.dz.get("/movies/",{params:t});return c.NextResponse.json({status:200,message:e})}catch{return c.NextResponse.json({status:404,message:"No movie found"})}case"series":try{let{data:e}=await o.dz.get("/series/",{params:t});return c.NextResponse.json({status:200,message:e})}catch{return c.NextResponse.json({status:404,message:"No series found"})}}}let l=new a.AppRouteRouteModule({definition:{kind:n.RouteKind.APP_ROUTE,page:"/api/search/route",pathname:"/api/search",filename:"route",bundlePath:"app/api/search/route"},resolvedPagePath:"/home/kinghorey/Library/Projects/nextJS/bingebox/frontend/app/api/search/route.ts",nextConfigOutput:"",userland:r}),{workAsyncStorage:f,workUnitAsyncStorage:d,serverHooks:p}=l;function b(){return(0,i.patchFetch)({workAsyncStorage:f,workUnitAsyncStorage:d})}},66653:(e,t,s)=>{"use strict";s.r(t),s.d(t,{"7f087faa4f878ab156a65c7ee9e0ba1169573645d5":()=>r._Y,"7f0e0744f74b1002eb380bb95b5f8211ddccc90a70":()=>r.yd,"7f11127491500f2559ef7cfc13f4faa13e3facc8d7":()=>r.PK,"7f33f7b50f843e828b356e86f7802b9d6f1626db5f":()=>r._x,"7f6a0776ee0f730df87a2170ab53d769e70fb3a36d":()=>r.mg,"7f93fbbd86f8be010ed44bc598b1cba6fccbfca00c":()=>r.vx,"7fb12136df3159f5e87a35794b0b72de868e23d81d":()=>r.oE,"7fdbcbee94d073462d496bed0b22b2c6481c1e1fcc":()=>r.BH});var r=s(35678)},96487:()=>{},78335:()=>{},35678:(e,t,s)=>{"use strict";s.d(t,{BH:()=>p,PK:()=>g,_Y:()=>d,_x:()=>b,mg:()=>l,oE:()=>h,vx:()=>f,yd:()=>u});var r=s(88977);s(98063);var a=s(64871),n=s(44512),i=s(14726),o=s(61482),c=s(56215);let u=async e=>{try{return await a.dz.post("/user/register/",JSON.stringify(e)),{status:201,message:"Registration successful"}}catch(e){return console.error(e.message,e.response),{status:400,message:e.response.data.data.email[0]}}},l=async e=>{try{let t=await (0,n.UL)(),{data:s}=await a.dz.post("/user/token/",{email:e.email,password:e.password});t.set("_session-bingebox-access",s.access,{httpOnly:!0,sameSite:"strict",maxAge:1800,secure:!0}),t.set("_session-bingebox-refresh",s.refresh,{httpOnly:!0,sameSite:"strict",maxAge:86400,secure:!0});let r=(0,i.s)(s.access);t.set("_bingeBox-xSet-user-info_",JSON.stringify(r),{httpOnly:!0,secure:!0,sameSite:"strict",expires:new Date(Date.now()+27216e5)});let{first_name:o,last_name:c,email:u,image:l,id:f}=r;return{status:200,message:"Successfully logged in",user:{first_name:o,last_name:c,email:u,image:l,id:f}}}catch(e){if(e instanceof Error)return{status:400,message:"Invalid credentials."}}},f=async(e,t)=>{let s=await (0,n.UL)(),r=s.get("_session-bingebox-access")?.value;try{return await a.dz.put(`user/update-information/${t}/`,JSON.stringify(e),{headers:{Authorization:`Bearer ${r}`}}),(0,o.revalidatePath)("/profile"),{status:200,message:"Profile successfully updated"}}catch(e){return{status:400,message:Object.values(e.response.data.data).flat()}}},d=async e=>{let t=await (0,n.UL)(),s=t.get("_session-bingebox-access")?.value;try{await a.dz.delete(`review/actions/${e}`,{headers:{Authorization:`Bearer ${s}`}}),(0,o.revalidatePath)("/profile/reviews")}catch(e){console.error(e.message)}},p=async e=>{try{let t=await (0,n.UL)(),s={refresh:e},{data:r}=await a.dz.post("/user/token/refresh/",JSON.stringify(s),{headers:{"Content-Type":"application/json","Content-Length":JSON.stringify(s).length}});t.set("_session-bingebox-access",r.access,{httpOnly:!0,sameSite:"lax",maxAge:1800,secure:!1,path:"/"}),t.set("_session-bingebox-refresh",r.refresh,{httpOnly:!0,sameSite:"lax",maxAge:86400,secure:!1,path:"/"});let o=(0,i.s)(r.access);return t.set("_bingeBox-xSet-user-info_",JSON.stringify(o),{httpOnly:!0,secure:!1,sameSite:"lax",expires:new Date(Date.now()+27216e5),path:"/"}),{status:200}}catch{return{status:400}}},b=async(e,t)=>{let s=await (0,n.UL)(),r=s.get("_session-bingebox-access")?.value;try{return await a.dz.put(`review/actions/${t.get("id")}`,t,{headers:{Authorization:`Bearer ${r}`}}),(0,o.revalidatePath)("/profile/reviews"),{status:200,message:"successfully updated review"}}catch{return{status:400}}},h=async()=>{let e=await (0,n.UL)(),t=e.get("_session-bingebox-access")?.value;try{let{data:e}=await a.dz.get("preferences/",{headers:{Authorization:`Bearer ${t}`}});return{status:200,message:e}}catch{return{status:400,message:"Unable to fetch data"}}},g=async e=>{let t=await (0,n.UL)();console.log("Form Data: ",e);let s=t.get("_session-bingebox-access")?.value;try{let{data:t}=await a.dz.post("preferences/",e,{headers:{Authorization:`Bearer ${s}`}});return{status:200,message:t}}catch{return{status:400,message:"Unable to fetch data"}}};(0,c.D)([u,l,f,d,p,b,h,g]),(0,r.A)(u,"7f0e0744f74b1002eb380bb95b5f8211ddccc90a70",null),(0,r.A)(l,"7f6a0776ee0f730df87a2170ab53d769e70fb3a36d",null),(0,r.A)(f,"7f93fbbd86f8be010ed44bc598b1cba6fccbfca00c",null),(0,r.A)(d,"7f087faa4f878ab156a65c7ee9e0ba1169573645d5",null),(0,r.A)(p,"7fdbcbee94d073462d496bed0b22b2c6481c1e1fcc",null),(0,r.A)(b,"7f33f7b50f843e828b356e86f7802b9d6f1626db5f",null),(0,r.A)(h,"7fb12136df3159f5e87a35794b0b72de868e23d81d",null),(0,r.A)(g,"7f11127491500f2559ef7cfc13f4faa13e3facc8d7",null)},64871:(e,t,s)=>{"use strict";s.d(t,{dz:()=>a});var r=s(65859);s(39187),s(35678),s(14726),console.log(process.env.NEXT_BASE_URL);let a=r.A.create({baseURL:process.env.NEXT_BASE_URL||"http://localhost:8000/api",headers:{Accept:"application/json","Content-Type":"application/json"}})},82828:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{INTERCEPTION_ROUTE_MARKERS:function(){return a},extractInterceptionRouteInformation:function(){return i},isInterceptionRouteAppPath:function(){return n}});let r=s(62045),a=["(..)(..)","(.)","(..)","(...)"];function n(e){return void 0!==e.split("/").find(e=>a.find(t=>e.startsWith(t)))}function i(e){let t,s,n;for(let r of e.split("/"))if(s=a.find(e=>r.startsWith(e))){[t,n]=e.split(s,2);break}if(!t||!s||!n)throw Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`);switch(t=(0,r.normalizeAppPath)(t),s){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`);n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let i=t.split("/");if(i.length<=2)throw Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`);n=i.slice(0,-2).concat(n).join("/");break;default:throw Error("Invariant: unexpected marker")}return{interceptingRoute:t,interceptedRoute:n}}},42706:(e,t,s)=>{"use strict";e.exports=s(44870)},50164:(e,t)=>{"use strict";function s(e){return e.startsWith("/")?e:"/"+e}Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"ensureLeadingSlash",{enumerable:!0,get:function(){return s}})},62045:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e,t){for(var s in t)Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}(t,{normalizeAppPath:function(){return n},normalizeRscURL:function(){return i}});let r=s(50164),a=s(18758);function n(e){return(0,r.ensureLeadingSlash)(e.split("/").reduce((e,t,s,r)=>!t||(0,a.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&s===r.length-1?e:e+"/"+t,""))}function i(e){return e.replace(/\.rsc($|\?)/,"$1")}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[989,931,187,652],()=>s(48779));module.exports=r})();