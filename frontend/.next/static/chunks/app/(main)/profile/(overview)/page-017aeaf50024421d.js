(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[704],{5510:(e,r,t)=>{Promise.resolve().then(t.bind(t,6636))},6636:(e,r,t)=>{"use strict";t.d(r,{default:()=>v});var s=t(5155),a=t(2115),n=t(4035),o=t(2336),i=t(4085),l=t(3955),d=t(5828);let c=(0,d.createServerReference)("7fac0044082fa5c25956fa075f55c5aeda65dab040",d.callServer,void 0,d.findSourceMapURL,"handleUpdateUserInformation");var m=t(1466),u=t(1190),g=t(9606),f=t(2679),b=t(1852),x=t(277),z=t(1068),h=t(3094),p=t(2818);let v=e=>{let{user:r}=e,[t,d]=(0,a.useState)(!1),v=(0,a.useRef)(null),j=(0,g.mN)({resolver:(0,f.u)(l.Nt),defaultValues:{...r}}),w=async e=>{let t=await c(e,r.id?null==r?void 0:r.id:"");200===t.status?z.oR.success("User Information succesfully updated"):(console.log(t.status,t.message[0]),z.oR.error(t.message[0]),(0,h.revalidatePath)("/profile"))};return(0,s.jsxs)("div",{className:"space-y-10 mt-10 lg:w-1/2 xs:w-full",children:[(0,s.jsx)(b.lv,{text:"Update your profile information"}),(0,s.jsx)(n.lV,{...j,children:(0,s.jsxs)("form",{className:"text-white space-y-5",onChange:()=>{JSON.stringify(j.getValues())===JSON.stringify(m.A)?d(!1):d(!0)},onSubmit:j.handleSubmit(w),children:[(0,s.jsx)(n.zB,{name:"image",control:j.control,render:e=>{var t;let{field:a}=e;return(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.MJ,{children:(0,s.jsxs)("div",{className:"roumded-full w-40 h-40 relative border rounded-full border-gray-400/30",children:[(0,s.jsx)("img",{src:a.value||"".concat(p.env.NEXT_BASE_URL).concat(r.image),className:"w-full h-full rounded-full object-cover"}),(0,s.jsx)("div",{className:"absolute bottom-0 right-0 p-2 rounded-full backdrop-blur-lg shadow-lg border border-gray-400/30 cursor-pointer",children:(0,s.jsx)(u.A,{size:14,stroke:"white",onClick:()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.click()}})}),(0,s.jsx)(o.p,{ref:v,className:"hidden",type:"file",accept:"image/*",onChange:e=>{if(e.target.files&&e.target.files[0]){let r=new FileReader;r.onload=e=>{var r;a.onChange(null===(r=e.target)||void 0===r?void 0:r.result)},r.readAsDataURL(e.target.files[0])}}})]})}),(0,s.jsx)("p",{className:"text-xs text-red",children:null===(t=j.formState.errors.image)||void 0===t?void 0:t.message})]})}}),(0,s.jsx)(n.zB,{name:"first_name",control:j.control,render:e=>{var r;let{field:t}=e;return(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.lR,{children:"First Name"}),(0,s.jsx)(n.MJ,{children:(0,s.jsx)(o.p,{...t,className:"rounded-md border border-gray-400/30 p-2 shadow-none"})}),(0,s.jsx)("p",{className:"text-xs text-red",children:null===(r=j.formState.errors.first_name)||void 0===r?void 0:r.message})]})}}),(0,s.jsx)(n.zB,{name:"last_name",control:j.control,render:e=>{var r;let{field:t}=e;return(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.lR,{children:"Last Name"}),(0,s.jsx)(n.MJ,{children:(0,s.jsx)(o.p,{...t,className:"rounded-md border border-gray-400/30 p-2 shadow-none"})}),(0,s.jsx)("p",{className:"text-xs text-red",children:null===(r=j.formState.errors.last_name)||void 0===r?void 0:r.message})]})}}),(0,s.jsx)(n.zB,{name:"email",control:j.control,render:e=>{var r;let{field:t}=e;return(0,s.jsxs)(n.eI,{children:[(0,s.jsx)(n.lR,{children:"Email"}),(0,s.jsx)(n.MJ,{children:(0,s.jsx)(o.p,{...t,className:"rounded-md border border-gray-400/30 p-2 shadow-none"})}),(0,s.jsx)("p",{className:"text-xs text-red",children:null===(r=j.formState.errors.email)||void 0===r?void 0:r.message})]})}}),(0,s.jsx)(i.$,{className:"bg-red text-white hover:text-red duration-200 transition-colors border-red shadow-none rounded-md border",disabled:!t,children:j.formState.isSubmitting?(0,s.jsx)(x.LW,{visible:!0,height:"60",width:"80",color:"white",ariaLabel:"three-dots-loading",radius:"7"}):"Update"})]})})]})}},1852:(e,r,t)=>{"use strict";t.d(r,{Xs:()=>n,lv:()=>i,hg:()=>o});var s=t(5155);function a(e){if((null==e?void 0:e.length)>0){let r=e.charAt(0).toUpperCase();return"".concat(r).concat(e.slice(1))}return""}function n(e){let{text:r}=e,t=a(r);return console.log(t),(0,s.jsx)("h1",{className:"text-4xl text-white font-semibold",children:t})}function o(e){let{text:r}=e,t=a(r);return(0,s.jsx)("h2",{className:"text-2xl text-white font-semibold",children:t})}function i(e){let{text:r}=e,t="string"==typeof r?a(r):r;return(0,s.jsx)("h3",{className:"text-xl text-white font-semibold",children:t})}},3955:(e,r,t)=>{"use strict";t.d(r,{KY:()=>u,Nt:()=>c,RD:()=>a,X5:()=>o,_x:()=>g,zK:()=>n});var s=t(3415);s.z.object({name:s.z.string()});let a=s.z.object({first_name:s.z.string().min(3,{message:"Your first name must be at least 3 characters long"}),last_name:s.z.string().min(3,{message:"Your last name must be at least 3 characters long"}),email:s.z.string().email(),message:s.z.string(),agree:s.z.boolean()}),n=s.z.object({first_name:s.z.string().min(3,{message:"Your first name must be at least 3 characters long"}),last_name:s.z.string().min(3,{message:"Your last name must be at least 3 characters long"}),email:s.z.string().email(),password:s.z.string().min(8,"Password must be at least 8 characters").regex(/^(?=.*\d)(?=.*[!@#$%^&*])(?=.*[a-z])(?=.*[A-Z]).{8,}$/,"Must contain 8 characters, one uppercase, one lowercase, one number and one special character"),confirm_password:s.z.string()}).refine(e=>e.password===e.confirm_password,{message:"Passwords do not match",path:["confirm_password"]}),o=s.z.object({email:s.z.string().email(),password:s.z.string()}),i=s.z.object({id:s.z.number(),original_name:s.z.string(),poster_path:s.z.string().url(),genre:s.z.string(),release_date:s.z.string().nullable().optional(),rating:s.z.number().optional(),seasons_count:s.z.number().optional(),type:s.z.enum(["movies","series"])});i.merge(s.z.object({seasons_count:s.z.number()})),s.z.object({data:s.z.object({page:s.z.number(),results:s.z.array(i),total_pages:s.z.number(),total_results:s.z.number(),release_date:s.z.date().optional()})});let l=s.z.object({id:s.z.number(),name:s.z.string()});s.z.object({iso_639_1:s.z.string(),name:s.z.string(),english_name:s.z.string()});let d=s.z.object({seasons:s.z.array(s.z.object({id:s.z.number(),air_date:s.z.date(),overview:s.z.string(),name:s.z.string(),image:s.z.string().url(),episodes:s.z.array(s.z.object({id:s.z.number(),title:s.z.string(),overview:s.z.string(),runtime:s.z.number(),episode_number:s.z.number(),image:s.z.string().url()}))}))});s.z.object({data:s.z.object({id:s.z.number(),genre:l,original_name:s.z.string(),overview:s.z.string(),poster_path:s.z.string().url(),likes:s.z.number(),dislikes:s.z.number(),adult:s.z.boolean(),release_date:s.z.date(),vote_count:s.z.number(),banner:s.z.string().url(),seasons:d})});let c=s.z.object({image:s.z.string().optional(),id:s.z.string().uuid().optional(),first_name:s.z.string(),last_name:s.z.string(),email:s.z.string().email()}),m=s.z.object({rating:s.z.string(),content:s.z.string(),id:s.z.string().uuid(),movie:s.z.object({id:s.z.number(),title:s.z.string()}),user:s.z.object({name:s.z.string()})});s.z.array(m);let u=s.z.object({genre:s.z.array(s.z.object({id:s.z.number(),name:s.z.string()}))}),g=s.z.object({name:s.z.string().min(3,{message:"Please provide a valid search term"}),category:s.z.enum(["movies","series"])})},4085:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var s=t(5155),a=t(2115),n=t(2317),o=t(652),i=t(9602);let l=(0,o.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=a.forwardRef((e,r)=>{let{className:t,variant:a,size:o,asChild:d=!1,...c}=e,m=d?n.DX:"button";return(0,s.jsx)(m,{className:(0,i.cn)(l({variant:a,size:o,className:t})),ref:r,...c})});d.displayName="Button"},4035:(e,r,t)=>{"use strict";t.d(r,{lV:()=>m,MJ:()=>h,zB:()=>g,eI:()=>x,lR:()=>z});var s=t(5155),a=t(2115),n=t(2317),o=t(9606),i=t(9602),l=t(6195);let d=(0,t(652).F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=a.forwardRef((e,r)=>{let{className:t,...a}=e;return(0,s.jsx)(l.b,{ref:r,className:(0,i.cn)(d(),t),...a})});c.displayName=l.b.displayName;let m=o.Op,u=a.createContext({}),g=e=>{let{...r}=e;return(0,s.jsx)(u.Provider,{value:{name:r.name},children:(0,s.jsx)(o.xI,{...r})})},f=()=>{let e=a.useContext(u),r=a.useContext(b),{getFieldState:t,formState:s}=(0,o.xW)(),n=t(e.name,s);if(!e)throw Error("useFormField should be used within <FormField>");let{id:i}=r;return{id:i,name:e.name,formItemId:"".concat(i,"-form-item"),formDescriptionId:"".concat(i,"-form-item-description"),formMessageId:"".concat(i,"-form-item-message"),...n}},b=a.createContext({}),x=a.forwardRef((e,r)=>{let{className:t,...n}=e,o=a.useId();return(0,s.jsx)(b.Provider,{value:{id:o},children:(0,s.jsx)("div",{ref:r,className:(0,i.cn)("space-y-2",t),...n})})});x.displayName="FormItem";let z=a.forwardRef((e,r)=>{let{className:t,...a}=e,{error:n,formItemId:o}=f();return(0,s.jsx)(c,{ref:r,className:(0,i.cn)(n&&"text-destructive",t),htmlFor:o,...a})});z.displayName="FormLabel";let h=a.forwardRef((e,r)=>{let{...t}=e,{error:a,formItemId:o,formDescriptionId:i,formMessageId:l}=f();return(0,s.jsx)(n.DX,{ref:r,id:o,"aria-describedby":a?"".concat(i," ").concat(l):"".concat(i),"aria-invalid":!!a,...t})});h.displayName="FormControl",a.forwardRef((e,r)=>{let{className:t,...a}=e,{formDescriptionId:n}=f();return(0,s.jsx)("p",{ref:r,id:n,className:(0,i.cn)("text-[0.8rem] text-muted-foreground",t),...a})}).displayName="FormDescription",a.forwardRef((e,r)=>{let{className:t,children:a,...n}=e,{error:o,formMessageId:l}=f(),d=o?String(null==o?void 0:o.message):a;return d?(0,s.jsx)("p",{ref:r,id:l,className:(0,i.cn)("text-[0.8rem] font-medium text-destructive",t),...n,children:d}):null}).displayName="FormMessage"},2336:(e,r,t)=>{"use strict";t.d(r,{p:()=>o});var s=t(5155),a=t(2115),n=t(9602);let o=a.forwardRef((e,r)=>{let{className:t,type:a,...o}=e;return(0,s.jsx)("input",{type:a,className:(0,n.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...o})});o.displayName="Input"},9602:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(3463),a=t(9795);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}}},e=>{var r=r=>e(e.s=r);e.O(0,[134,520,695,518,687,694,922,441,517,358],()=>r(5510)),_N_E=e.O()}]);